# ichigo_mouse
ICHIGO MOUSE

LPC1114 1byte ichigo mouse for IchigoJam

IchigoJamでPS/2マウス（3ボタン）を使えるようにする為のプログラムセットです。
PS/2マウスはELECO M-K6P2RWH/RSで動作確認を行いました（必要に応じて変換アダプターを使用）。
その他のPS/2マウスではKBD1/KBD2に1Kohm程度の抵抗(5Vプルアップ)が必要な場合があります。
また、マウスによっては使えないことがあります（3ボタンしか使用できない場合も）。

IchigoJamは2台使用し、1台目（LPC1114版必須）にマウス用のfirmwareを書き込みます。
以下のfirmwareのどちらかを使用：内容は同じ
LPC1114_1btye_ichigo_mouse.LPC1114.hex
LPC1114_1btye_ichigo_mouse.LPC1114.bin
機能:PS/2マウスの3バイトコードを1バイトに変換して出力します。
　　電源投入時にボタンを押すことで移動距離に対する感度を調整できます。
　　押し続けると1秒毎にLEDが点滅しますので、適切な回数の時に離します
　　（通常は１，2回、移動距離を大きくしたいゲーム等ではそれ以上）。
　　更に、LEDが消えてから１秒以内にもう一度ボタンを押し続けると
　　IchigoJam用のマウス動作チェックプログラムを転送&実行できます。
　　MSB=1固定になっている為、2台目のIchigoJamではキーボードと併用できます。


2台目のIchigoJamにはアプリケーションプログラムを書き込みます。
サンプルアプリケーション：
ICHIGO_MOUSE_DRAW.txt
機能:マウスの左ボタンを押すことで画面に文字を書くことができます。
　　文字は、キーボードを押すことで変更できます。
　　マウスの中央ボタンを押すことで、文字／絵文字のモードを変更できます。
　　マウスの右ボタンを押すことで、カーソル位置のコードを吸い取って文字設定できます。
　　この時絵文字だったコードは、文字モードに切り替えても文字コードには戻せません。
　

接続
1台目のIchigoJamにPS/2マウスを接続します。
1台目のIchigoJamのTXDを2台目のIchigoJamのRXDに接続します。
1台目と2台目のIchigoJamのGNDを接続します。

電源投入（同時に電源投入できない場合）
2台目のIchigoJamの電源を先に電源投入します。
次に1台目のIchigoJamの電源投入しますが、
上述のようにボタン操作により、感度調整、チェックプログラム転送が可能です。


2022.8.14 Hideshi Maeno
